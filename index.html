<!DOCTYPE html>
<html>
<head>
  <!-- Load Firebase scripts as modules -->
  <script type="module" src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js"></script>
  <script type="module" src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js"></script>
</head>
<body>

<h2>HTML Forms</h2>

<div>
  <label for="fname">First name:</label><br>
  <input type="text" id="fname" name="fname" value="John"><br>
  <label for="lname">Last name:</label><br>
  <input type="text" id="lname" name="lname" value="Doe"><br><br>
  <button type="button" onclick="setNameAge()">Submit</button>
</div> 

<p>If you click the "Submit" button, the form-data will be sent to Firestore.</p>

<script type="module">
  const firebaseConfig = {
    apiKey: "AIzaSyAK-nJvyQYRjtQ7Mg0",
    authDomain: "basicfireaseapp.com",
    projectId: "basicfirebions",
    storageBucket: "basicfirebaseopt.com",
    messagingSenderId: "766752",
    appId: "1:7667569942:web:b50afe2d72c37"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // Define setNameAge function
  function setNameAge() {
    const fname = document.getElementById('fname').value;
    const lname = document.getElementById('lname').value;

    db.collection("users").add({
      name: fname + ' ' + lname,
      age: 32 // You can get age from another input field similarly
    }).then((docRef) => {
      console.log("Document written with ID: ", docRef.id);
      // Reset form after successful submission
      document.getElementById('fname').value = '';
      document.getElementById('lname').value = '';
    }).catch((error) => {
      console.error("Error adding document: ", error);
    });
  }
</script>
</body>
</html>


